<!DOCTYPE html> 
<html>
<head>
  <meta charset="UTF-8">
  <title>Panel Administrador</title>
  <link rel="stylesheet" href="admin.css">
</head>

<body>

<div class="admin-container">

  <header class="admin-header">
    <div class="admin-header-left">
      <h1><span class="icon">‚öôÔ∏è</span> AppsMart Admin</h1>
      <p>Subir, editar y manejar aplicaciones</p>
    </div>
    <button class="btn-logout" onclick="logout()">Cerrar sesi√≥n</button>
  </header>

  <!-- ============ BOT√ìN PARA MOSTRAR / OCULTAR ============ -->
  <button id="toggleBtn" class="btn-toggle" onclick="toggleApps()">üì¶ Apps Subidas</button>

  <!-- ============ LISTADO OCULTO AL INICIO ============ -->
  <div id="appsContainer" class="hidden">
    <h3 class="panel-section-title">üì¶ Aplicaciones Publicadas</h3>

    <table class="apps-table">
      <thead>
        <tr>
          <th>Icono</th>
          <th>Nombre</th>
          <th>Categor√≠a</th>
          <th>Versi√≥n</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody id="appsList"></tbody>
    </table>
  </div>

  <!-- ============ FORMULARIO ============ -->
  <h3 class="panel-section-title" id="formTitle">‚ûï Nueva Aplicaci√≥n</h3>

  <div class="form-card">

    <div class="form-main-fields">

      <div class="form-group">
        <label>Nombre</label>
        <input id="nombre" type="text">
      </div>

      <div class="form-group">
        <label>Descripci√≥n</label>
        <textarea id="descripcion"></textarea>
      </div>

      <div class="form-group">
        <label>Versi√≥n</label>
        <input id="version" type="text">
      </div>

      <div class="form-group">
        <label>Sistema Operativo</label>
        <input id="sistema" type="text" placeholder="Ej: Android">
      </div>

      <div class="form-group">
        <label>Requisitos del sistema</label>
        <input id="requisitos" type="text" placeholder="Ej: Android 5.0+">
      </div>

      <div class="form-group">
        <label>Fecha de actualizaci√≥n</label>
        <input id="fechaAct" type="date">
      </div>

      <div class="form-group">
        <label>Edad recomendada</label>
        <input id="edad" type="text" placeholder="Ej: +13, +16">
      </div>

    </div>

    <div class="form-side-fields">

      <div class="form-group">
        <label>Categor√≠a</label>
        <select id="categoria">
          <option>Educaci√≥n</option>
          <option>Libros</option>
          <option>Juegos</option>
          <option>Sociales</option>
          <option>Herramientas</option>
          <option>Entretenimiento</option>
          <option>M√∫sica y Audio</option>
          <option>Fotograf√≠a y Video</option>
          <option>Productividad</option>
        </select>
      </div>

      <div class="form-group">
        <label>Idioma</label>
        <input id="idioma" type="text">
      </div>

      <div class="form-group">
        <label>Tipo</label>
        <select id="tipo">
          <option>Gratis</option>
          <option>Pagada</option>
        </select>
      </div>

      <div class="form-group">
        <label>Conexi√≥n</label>
        <select id="internet">
          <option value="offline">Funciona sin Internet</option>
          <option value="online">Requiere Internet</option>
        </select>
      </div>

      <div class="form-group">
        <label>¬øContiene anuncios?</label>
        <select id="anuncios">
          <option value="si">S√≠ contiene</option>
          <option value="no">No contiene</option>
        </select>
      </div>

      <div class="form-group">
        <label>Pol√≠tica de privacidad (URL)</label>
        <input id="privacidad" type="text" placeholder="https://...">
      </div>

      <!-- ======================= -->
      <!--   NUEVOS CAMPOS URL     -->
      <!-- ======================= -->

      <div class="form-group">
        <label>URL Imagen Principal (GitHub RAW u otra)</label>
        <input id="imagenUrl" type="text" placeholder="https://...">
      </div>

      <div class="form-group">
        <label>URLs de Capturas (separadas por coma)</label>
        <input id="capturasUrl" type="text" placeholder="url1,url2,url3">
      </div>

      <!-- ======================= -->
      <!--   SUBIR ARCHIVOS        -->
      <!-- ======================= -->

      <div class="form-group">
        <label>Capturas secundarias (m√°x 6)</label>
        <input id="capturas" type="file" accept="image/*" multiple>
      </div>

      <div class="form-group">
        <label>APK (solo si deseas cambiarla)</label>
        <input id="apk" type="file" accept=".apk">
      </div>

      <div class="form-group">
        <label>Imagen (solo si deseas cambiarla)</label>
        <input id="imagen" type="file" accept="image/*">
      </div>

      <button id="subirBtn" class="btn-primary" onclick="guardarApp()">SUBIR APP</button>

      <p class="status-text" id="estado"></p>

    </div>

  </div>

</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>

<script src="firebase.js"></script>
<script src="admin.js"></script>

</body>
</html>
